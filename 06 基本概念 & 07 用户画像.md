# 商业智能 BI，数据仓库 DW，数据挖掘 DM
- 商业智能：Business Intelligence，指根据 DW 进行 DM 得到商业价值的过程
- 数据仓库：Data Warehouse，与数据库的本质其实没什么差别，主要是体量大而杂，可当作是若干个数据库的集合；也可以把数据库当作一门技术，数据仓库当作一个存储媒介。需要额外关注的是，由于数据仓库集合了多个数据来源，所以在数据标签、格式等方面可能存在不一致，在汇合时需要经过清洗
- 数据挖掘：Data Mining，包括分类、聚类、回归、关联分析等任务，最核心的步骤是数据预处理——从特征的角度看也叫特征工程

# 元数据，数据元
- 元数据，MetaData，描述其他数据的数据，亦称为“中介数据”；一般不称【一个元数据】，而称为【一套元数据】，是一个意思
- 数据元：Data Element，最小的数据单元
- 大致地讲，可以认为【一套元数据由若干个数据元构成】，但【一套元数据的其中一个元素】不一定等于【一个数据元】，因为元数据是可分级的，如：
	○ 图书：{书名，作者，出版社，ISBN，出版时间，页数，定价} 一般情况下可以把 {} 内的元素看作（图书的）一套元数据，每个元素都是一个数据元；
	○ 但如果开发者坚持认为【出版时间】还可以进一步分出二级元数据{年，月，日}，那么【出版时间】就不能看作一个数据元，而是三个数据元的组合了（虽然这个例子的拆分有点牵强）；
- 元数据的优势：方便数据的描述和存储，利于数据仓库对数据的抽取调度和管理，也大大方便了数据挖掘的数据使用

# 数据挖掘（KDD, Knowledge Discovery in Database）
- 任务：分类，聚类，预测/回归，关联分析
- 流程：获取数据->数据预处理（数据清洗，数据集成，数据变换；特征选择，维规约，规范化，选择子集）->数据挖掘->后处理（模式过滤，可视化，模式表示）->信息
- 个人所理解的数据挖掘的价值，是通过人/事物所表现出来的行为数据，抽象出某种直观上难以总结出的通用规律，便于我们在不确定的世界（尤商业世界）中摸索出较确定的努力方向，并通过分析这个确定的规律去认识世界，认识人性。
- 比如前阵子参加了个比赛，选题是识别上市公司的财务造假，这是一个典型的不平衡分类问题，而且数据量还不大。这其实就可以看作是通过数据挖掘的手段，探索上市公司财务人员在造假时会表现出怎样的手段；即使是再精妙的设计，由于经过了粉饰扭曲，也难免会在细节之处暴露出差异。不过这是本人第一次处理不平衡数据集的分类问题，得分并不高，实践经验还有很大提升空间。

# 用户画像的准则
1. 统一化：统一用户的唯一标识，尤其是多部门合作时更有必要在顶层设计时确立
2. 标签化：给用户打标签，即用户画像
3. 业务化：将用户画像用于指导业务

# 给用户打标签——用户消费行为分析
- 用户标签：基础属性，如性别、年龄、地域、收入等
- 消费标签：用户的消费习惯，如购买意向、是否对促销敏感
- 行为标签：用户消费过程表现出的行为，如时间段、时长、频次、访问路径
- 内容分析：对用户浏览内容（尤其是停留时间长、次数多的内容）的分析，如文案长短，内容所属分类（金融、娱乐、时尚、科技等）

# 用户画像的业务价值（用户生命周期视角）
- 获客：拉新策略，精准营销
- 粘客：个性化推荐，搜索排序，场景运营
- 留客：流失率预测，分析导致用户流失的关键节点

# 用户画像建模过程（数据流视角）
![modeling](https://raw.githubusercontent.com/WingML/DataAnalysis-NoteTaking/master/pictures/07.jpg)
- 数据层：用户实际上的消费行为，需要打上【事实标签】作为客观的记录
- 算法层：利用【事实标签】作为算法输入，算法输出为【模型标签】，比如可作为用户画像的分类标识
- 业务层：结合获客、粘客、留客的业务需求，根据【模型标签】打上最终的【预测标签】作为业务关联的结果

# 案例：美团外卖的用户画像如何设计？
1. 产品背景：美团外卖和大众点评已合并，两个平台均可下单外卖；前者针对高频的 O2O 场景，是美团的核心产品
2. 统一用户唯一标识：美团采用手机号、微信、微博、美团账号的登录方式，大众点评采用的是手机号、微信、QQ、微博，其中共通的是【手机号，微信，微博】，首选手机号
3. 按照【用户消费行为分析】的准则设计标签：
	a. 用户标签：性别，年龄，家乡，居住地，收货地址，婚姻，宝宝信息，通过何种渠道注册
	b. 消费标签：餐饮口味，消费均价，团购等级，预定使用等级，排队使用等级，外卖等级
	c. 行为标签：点外卖时间段，使用频次，平均点餐用时，访问路径
	d. 内容分析：食材，口味，优惠敏感度
4. 业务价值：
	a. 获客：找到优势的宣传渠道，个性化宣传，吸引有潜在需求的用户并刺激其转化、消费
	b. 粘客：即如何提升用户的消费频次与单价，方法包括购买后的个性化推荐、针对优质用户作优质高价商品的推荐、通过红包等方式激励优惠敏感人群提升购买频次
	c. 留客：在营销领域关于用户留存有一个观点——顾客流失率每降低 5%，公司利润将提升 25%~85%；用户流失的因素可能包括用户体验、竞争对手、需求变化等
5. 其他考虑：节日促销引发的大量订单——异常值处理

# 思考题
- 羊肉串连锁店
	○ 用户标签：性别，年龄，居住地，通过何种渠道知道门店
	○ 消费标签：消费均价，口味偏好，肉质偏好，位置偏好，温度偏好
	○ 行为标签：用餐时间，是否预订，是否准时用餐，聚餐与否，聚餐人数
	○ 内容分析：消费的菜品，消费的肉种，所用配料
- 微信好友
	○ 好友标签：性别，年龄，学历，居住地，职业，通过何种渠道加为好友，是否星标
	○ 朋友圈标签：朋友圈可见范围，发朋友圈频次，发朋友圈时段，所发内容类型，点赞频次，是否在朋友圈下互动及其频次
	○ 互动标签：聊天频次，聊天内容类型，聊天动机，共有群聊数量，共同好友数量
